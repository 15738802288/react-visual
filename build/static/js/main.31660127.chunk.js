(this.webpackJsonpen=this.webpackJsonpen||[]).push([[0],{227:function(e,t,n){e.exports=n(554)},232:function(e,t,n){},233:function(e,t,n){},234:function(e,t,n){},553:function(e,t,n){},554:function(e,t,n){"use strict";n.r(t);var a=n(3),i=n.n(a),o=n(93),s=n.n(o),r=n(133),c=n(20),m=n(21),l=n(23),p=n(22),u=(n(232),function(e){Object(l.a)(n,e);var t=Object(p.a)(n);function n(e){var a;Object(c.a)(this,n),(a=t.call(this,e)).confirm=function(){a.props.confirm(!0,a.state.names[a.state.active])};var i=[];for(var o in a.props.allComponent)i.push(o);return a.state={names:i,active:0},a}return Object(m.a)(n,[{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"component-alert"},i.a.createElement("div",{className:"component-alert-box"},i.a.createElement("div",{className:"component-list"},this.state.names.map((function(t,n){return i.a.createElement("div",{key:t,onClick:function(){e.setState({active:n})},className:"item "+(n===e.state.active?"active":"")},t)}))),i.a.createElement("div",{className:"footer-button"},i.a.createElement("span",{onClick:this.props.confirm},"\u53d6\u6d88"),i.a.createElement("span",{onClick:this.confirm},"\u786e\u5b9a"))))}}]),n}(a.Component)),d=(n(233),function(e){Object(l.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).selectComponent=function(e){a.props.selectComponent(a.props.index,e)},a.getChildComponentData=function(){},a.state={},a}return Object(m.a)(n,[{key:"render",value:function(){var e=this.props.componentList[0]||"";return i.a.createElement("div",{className:"container-type1"},i.a.createElement("span",{className:"select-component",onClick:this.selectComponent.bind(this,0)},"\u9009\u62e9\u7ec4\u4ef6"),e?i.a.createElement(e,{setComponentAttr:this.props.setComponentAttr}):"")}}]),n}(a.Component)),h=(n(234),function(e){Object(l.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).selectComponent=function(e){a.props.selectComponent(a.props.index,e)},a.state={},a}return Object(m.a)(n,[{key:"render",value:function(){var e=this.props.componentList[0]||"",t=this.props.componentList[1]||"";return i.a.createElement("div",{className:"container-type2"},i.a.createElement("div",{className:"item"},i.a.createElement("span",{className:"select-component",onClick:this.selectComponent.bind(this,0)},"\u9009\u62e9\u7ec4\u4ef6"),e?i.a.createElement(e,null):""),i.a.createElement("div",{className:"item"},i.a.createElement("span",{className:"select-component",onClick:this.selectComponent.bind(this,1)},"\u9009\u62e9\u7ec4\u4ef6"),t?i.a.createElement(t,null):""))}}]),n}(a.Component)),v=n(58),y=n(94),f=n(95),g=n.n(f),C=n(555),b=function(e){Object(l.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).chartResize=function(){e.isResize=e.isResize?e.isResize+1:1,setTimeout((function(){e.isResize2=e.isResize2?e.isResize2+1:1,e.isResize===e.isResize2&&(e.isResize=0,e.isResize2=0,e.myChart&&e.myChart.resize())}),100)},e.setComponentAttr=function(){e.props.setComponentAttr({style:[],serve:[]},e.saveComponentAttr)},e.saveComponentAttr=function(t){console.log(Object(y.a)(e),t)},e}return Object(m.a)(n,[{key:"componentDidMount",value:function(){this.myChart=g.a.init(this.echart),this.myChart.setOption(E)}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{style:k,onDoubleClick:this.setComponentAttr},i.a.createElement("div",{ref:function(t){e.echart=t},style:k}))}},{key:"componentDidUpdate",value:function(e){this.props.width!==e.width&&this.chartResize()}}]),n}(a.Component),k={width:"100%",height:"100%"},E={title:{text:""},tooltip:{trigger:"axis",axisPointer:{type:"cross",label:{backgroundColor:"#6a7985"}}},legend:{data:["\u90ae\u4ef6\u8425\u9500","\u8054\u76df\u5e7f\u544a","\u89c6\u9891\u5e7f\u544a","\u76f4\u63a5\u8bbf\u95ee","\u641c\u7d22\u5f15\u64ce"]},toolbox:{feature:{saveAsImage:{}}},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:[{type:"category",boundaryGap:!1,data:["\u5468\u4e00","\u5468\u4e8c","\u5468\u4e09","\u5468\u56db","\u5468\u4e94","\u5468\u516d","\u5468\u65e5"]}],yAxis:[{type:"value"}],series:[{name:"\u90ae\u4ef6\u8425\u9500",type:"line",stack:"\u603b\u91cf",areaStyle:{},data:[120,132,101,134,90,230,210]},{name:"\u8054\u76df\u5e7f\u544a",type:"line",stack:"\u603b\u91cf",areaStyle:{},data:[220,182,191,234,290,330,310]},{name:"\u89c6\u9891\u5e7f\u544a",type:"line",stack:"\u603b\u91cf",areaStyle:{},data:[150,232,201,154,190,330,410]},{name:"\u76f4\u63a5\u8bbf\u95ee",type:"line",stack:"\u603b\u91cf",areaStyle:{},data:[320,332,301,334,390,330,320]},{name:"\u641c\u7d22\u5f15\u64ce",type:"line",stack:"\u603b\u91cf",label:{normal:{show:!0,position:"top"}},areaStyle:{},data:[820,932,901,934,1290,1330,1320]}]},O=Object(v.a)(Object(v.a)({},Object(C.a)(b)),{},{name:"Component1"}),A=function(e){Object(l.a)(n,e);var t=Object(p.a)(n);function n(){var e;Object(c.a)(this,n);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(e=t.call.apply(t,[this].concat(i))).chartResize=function(){e.isResize=e.isResize?e.isResize+1:1,setTimeout((function(){e.isResize2=e.isResize2?e.isResize2+1:1,e.isResize===e.isResize2&&(e.isResize=0,e.isResize2=0,e.myChart&&e.myChart.resize())}),100)},e}return Object(m.a)(n,[{key:"componentDidMount",value:function(){this.myChart=g.a.init(this.echart),this.myChart.setOption(w)}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{style:j},i.a.createElement("div",{ref:function(t){e.echart=t},style:j}))}},{key:"componentDidUpdate",value:function(e){this.props.width!==e.width&&this.chartResize()}}]),n}(a.Component),j={width:"100%",height:"100%"},w={title:{text:""},tooltip:{trigger:"axis"},legend:{data:["\u84b8\u53d1\u91cf","\u964d\u6c34\u91cf"]},toolbox:{show:!0,feature:{dataView:{show:!0,readOnly:!1},magicType:{show:!0,type:["line","bar"]},restore:{show:!0},saveAsImage:{show:!0}}},calculable:!0,xAxis:[{type:"category",data:["1\u6708","2\u6708","3\u6708","4\u6708","5\u6708","6\u6708","7\u6708","8\u6708","9\u6708","10\u6708","11\u6708","12\u6708"]}],yAxis:[{type:"value"}],series:[{name:"\u84b8\u53d1\u91cf",type:"bar",data:[2,4.9,7,23.2,25.6,76.7,135.6,162.2,32.6,20,6.4,3.3],markPoint:{data:[{type:"max",name:"\u6700\u5927\u503c"},{type:"min",name:"\u6700\u5c0f\u503c"}]},markLine:{data:[{type:"average",name:"\u5e73\u5747\u503c"}]}},{name:"\u964d\u6c34\u91cf",type:"bar",data:[2.6,5.9,9,26.4,28.7,70.7,175.6,182.2,48.7,18.8,6,2.3],markPoint:{data:[{name:"\u5e74\u6700\u9ad8",value:182.2,xAxis:7,yAxis:183},{name:"\u5e74\u6700\u4f4e",value:2.3,xAxis:11,yAxis:3}]},markLine:{data:[{type:"average",name:"\u5e73\u5747\u503c"}]}}]},x=Object(v.a)(Object(v.a)({},Object(C.a)(A)),{},{name:"Component2"}),z=n(225),R=n.n(z),N=(n(552),n(553),{Component1:O,Component2:x}),S={Type1:d,Type2:h},L=function(e){Object(l.a)(n,e);var t=Object(p.a)(n);function n(e){var a;Object(c.a)(this,n),(a=t.call(this,e)).save=function(){var e=a.state.gridList.map((function(e,t){var n=document.getElementById("grid-item"+t),a=e.componentChild.map((function(e){return e.name}));return console.log(e),{key:n.getAttribute("component-key"),name:n.getAttribute("component-name"),width:n.getAttribute("data-gs-width"),height:n.getAttribute("data-gs-height"),x:n.getAttribute("data-gs-x"),y:n.getAttribute("data-gs-y"),componentChild:a}}));sessionStorage.setItem("data",JSON.stringify(e))},a.selectComponent=function(e,t){a.setState({showComponentAlert:!0,selectContainer:[e,t]})},a.activeComponent=function(e,t){a.setState((function(){var n=a.state.gridList;if(!0===e){var i=a.state.selectContainer[0],o=a.state.selectContainer[1];n[i].componentChild[o]=N[t]}return{gridList:n,showComponentAlert:!1}}))},a.setComponentAttr=function(e,t){a.saveAttrCallback=t,setTimeout((function(){a.saveAttrCallback(e)}),1e3)};var i=sessionStorage.getItem("data");return i=(i=i?JSON.parse(i):[]).map((function(e){return e.component=S[e.name],e.componentChild=e.componentChild.map((function(e){return N[e]})),e})),a.state={gridList:i,showComponentAlert:!1,selectContainer:[]},a}return Object(m.a)(n,[{key:"componentDidMount",value:function(){this.gridStack=R.a.init({margin:10,cellHeight:5,removeTimeout:100},this.gridStackDom)}},{key:"shouldComponentUpdate",value:function(e,t){return!0}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{className:"index"},i.a.createElement("header",null,i.a.createElement("li",{onClick:this.addComponent.bind(this,"Type1")},"\u65b0\u589e Type1 \u5bb9\u5668"),i.a.createElement("li",{onClick:this.addComponent.bind(this,"Type2")},"\u65b0\u589e Type2 \u5bb9\u5668"),i.a.createElement("li",{onClick:this.save},"\u4fdd\u5b58")),i.a.createElement("main",null,i.a.createElement("div",{className:"grid-stack",ref:function(t){e.gridStackDom=t}},this.state.gridList.map((function(t,n){return i.a.createElement("div",{key:t.key,id:"grid-item"+n,className:"grid-stack-item","component-key":t.key,"component-name":t.name,"data-gs-width":t.width||"6","data-gs-height":t.height||"50","data-gs-x":t.x||"","data-gs-y":t.y||""},i.a.createElement("div",{className:"grid-stack-item-content"},i.a.createElement("span",{className:"grid-stack-item-del",onClick:e.delItem.bind(e,n)},"\u5220\u9664"),i.a.createElement("div",{className:"component"},i.a.createElement(t.component,{ref:function(e){t.componentRef=e},componentList:t.componentChild,index:n,selectComponent:e.selectComponent,setComponentAttr:e.setComponentAttr}))))})))),this.state.showComponentAlert?i.a.createElement(u,{confirm:this.activeComponent,allComponent:N}):"")}},{key:"addComponent",value:function(e){var t=this;this.setState({gridList:[].concat(Object(r.a)(this.state.gridList),[{name:e,component:S[e],componentChild:[],key:(new Date).getTime()}])},(function(){t.gridStack.makeWidget("#grid-item"+(t.state.gridList.length-1))}))}},{key:"delItem",value:function(e){var t=this;this.gridStack.removeWidget(document.getElementById("grid-item"+e),!1),this.setState((function(){var n=Object(r.a)(t.state.gridList);return n.splice(e,1),{gridList:n}}))}}]),n}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(i.a.createElement(L,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[227,1,2]]]);
//# sourceMappingURL=main.31660127.chunk.js.map